# 테스트 주도 개발 스터디 (Android)
> 켄트 백의 Test-Driven Development by Example(이하 TDD)을 서적의 예제를 테스트해보는 안드로이드 프로젝트입니다.
>
> 서적의 일반 JVM의 예제와 동일하게 구현합니다. 다만 언어는 Kotlin으로 작성합니다.



### 테스트 주도 개발

> 작동하는 깔끔한 코드를 작성하는 것이 TDD의 궁극적인 목표입니다.
>
> TDD는 작동하는이 우선이고 깔끔한이 나중에 진행하는 흐름입니다.
>
> 이것의 반대는 Architecture-Driven Development입니다.



### 요약

#### 1장 - 다중 통화를 지원하는 Money 객체

* TDD의 흐름
  * 작은 테슽를 하나 추가한다.
  * 모든 테스트를 실행해서 테스트가 실패하는 것을 확인한다.
  * 조금 수정한다.
  * 모든 테스트를 실행해서 테스트가 성공하는 것을 확인한다.
  * 중복을 제거하기 위해 리팩토링을 한다.

#### 2장 - 타락한 객체

* 테스트 케이스가 성공하도록 만든다.
  * 가짜로 구현하기 (스텁 구현)
    * 상수를 반환하게 만들고 진짜 코든를 얻을 때까지 단계적으로 상수를 변수로 바꾸어 간다.
  * 명백한 구현 사용하기
    * 실제 구현을 입력한다.

#### 3장 - 모두를 위한 평등

* 값 객체
  * equals() and hashCode()
* 삼각측량 전략
  * 두개 이상의 예제를 두어 코드를 일반화 할 수 있다.
  * 5 == 5는 테스트를 통과하기 위해서 상수를 사용할 수 있다.
  * 5 == 5와 5 == 6 모두를 만족하려면 상수로는 불가능하다. 여기서 일반화가 필요하다.
  * 테스트를 작성할 때 첫번째는 상수로, 두번째 처럼 좀더 일반적인 해가 필요로 할 때 일반화 한다.
* 삼각측량 전략이 필요할 때
  * 코드와 테스트 사이의 중복을 제거하고 일반적인 해법을 구할 방법이 보이면 그냥 그대로 구현한다.
  * 하지만 설계를 어떻게 할지 떠오르지 않을 때면, 삼각측량은 문제를 조금 다른 방향에서 볼 기회를 준다.
* 여기서의 흐름
  * 우리의 디자인 패턴이 하나의 또 다른 오퍼레이션을 암시한다는 걸 알아챘다. (값 객체로 동작해야되는 것을)
  * 해당 오퍼레이션을 테스트했다.
  * 해당 오퍼레이션을 간단히 구현했다.
  * 곧장 리팩토링하는 대신 테스트를 조금 더 했다.
  * 두 경우를 모두 수용할 수 있도록 리팩토링했다.

#### 4장 - 프라이버시

* 3장에서 동치성(Equality)를 해결했다.
* 동치성을 이용하여 테스트코드에서의 결합도를 낮출 수 있다. (직접 멤버 변수인 amount를 비교하는 것)
* 여기서의 흐름
  * 오직 테스트를 향상시키기 위해서만 개발된 기능을 사용했다.
  * 두 테스트가 동시에 실패하면 망한다는 점을 인식했다.
  * 위험 요소가 있음에도 계속 진행했다.
  * 테스트와 코드 사이의 결합도를 낮추기 위해, 테스트 하는 객체의 새기능을 사용했다.



